<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Hello React day5, H_dajun">
    <meta name="description" content="Welcome 
1.PubSubJs(æ¶ˆæ¯çš„å‘å¸ƒä¸è®¢é˜…)å®‰è£…ï¼š npm install pubsub-js
ä½¿ç”¨ï¼š import PubSub from &#39;pubsub-js&#39;
//æ³¨æ„è¿™é‡Œçš„callbackæ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè®¢é˜…çš„æ¶ˆæ¯å">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Hello React day5 | H_dajun</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>


<meta name="generator" content="Hexo 6.0.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <span class="logo-span">H_dajun</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>é¦–é¡µ</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>æ ‡ç­¾</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>åˆ†ç±»</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>å½’æ¡£</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>å…³äº</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>å‹æƒ…é“¾æ¥</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="æœç´¢" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <div class="logo-name">H_dajun</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			é¦–é¡µ
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			æ ‡ç­¾
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			åˆ†ç±»
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			å½’æ¡£
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			å…³äº
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			å‹æƒ…é“¾æ¥
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/3.png')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Hello React day5</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- æ–‡ç« å†…å®¹è¯¦æƒ… -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/React/">
                                <span class="chip bg-color">React</span>
                            </a>
                        
                            <a href="/tags/learning/">
                                <span class="chip bg-color">learning</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/react/" class="post-category">
                                react
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>å‘å¸ƒæ—¥æœŸ:&nbsp;&nbsp;
                    2022-01-24
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>æ–‡ç« å­—æ•°:&nbsp;&nbsp;
                    2.9k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>é˜…è¯»æ—¶é•¿:&nbsp;&nbsp;
                    11 åˆ†
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>é˜…è¯»æ¬¡æ•°:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>Welcome </p>
<h3 id="1-PubSubJs-æ¶ˆæ¯çš„å‘å¸ƒä¸è®¢é˜…"><a href="#1-PubSubJs-æ¶ˆæ¯çš„å‘å¸ƒä¸è®¢é˜…" class="headerlink" title="1.PubSubJs(æ¶ˆæ¯çš„å‘å¸ƒä¸è®¢é˜…)"></a>1.PubSubJs(æ¶ˆæ¯çš„å‘å¸ƒä¸è®¢é˜…)</h3><pre class=" language-javascript"><code class="language-javascript">å®‰è£…ï¼š npm install pubsub<span class="token operator">-</span>js
ä½¿ç”¨ï¼š <span class="token keyword">import</span> PubSub <span class="token keyword">from</span> <span class="token string">'pubsub-js'</span>
<span class="token comment" spellcheck="true">//æ³¨æ„è¿™é‡Œçš„callbackæ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè®¢é˜…çš„æ¶ˆæ¯åï¼ï¼ï¼</span>
è®¢é˜…ï¼š <span class="token keyword">let</span> token <span class="token operator">=</span> PubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'MY TOPIC'</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ¶ˆæ¯åï¼Œåé¢å‚æ•°ä¸ºä¼ é€’çš„å€¼</span>
å‘å¸ƒï¼š PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'MY TOPIC'</span><span class="token punctuation">,</span> <span class="token string">'hello world!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//å–æ¶ˆç±»ä¼¼å®šæ—¶å™¨çš„å–æ¶ˆ</span>
å–æ¶ˆï¼š PubSub<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="2-fetchçš„åŸºæœ¬ç”¨æ³•-ä¼˜åŒ–å†™æ³•"><a href="#2-fetchçš„åŸºæœ¬ç”¨æ³•-ä¼˜åŒ–å†™æ³•" class="headerlink" title="2.fetchçš„åŸºæœ¬ç”¨æ³•(ä¼˜åŒ–å†™æ³•)"></a>2.fetchçš„åŸºæœ¬ç”¨æ³•(ä¼˜åŒ–å†™æ³•)</h3><pre class=" language-javascript"><code class="language-javascript">    <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`https://api.github.com/search/users?q=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>  
            <span class="token comment" spellcheck="true">//è¿”å›çš„æ˜¯ä¸€ä¸ªPromise é€šè¿‡awaitæ‹¿åˆ°ç»“æœæ˜¯ä¸€ä¸ªresponseå¯¹è±¡</span>
            <span class="token comment" spellcheck="true">//æ•°æ®åœ¨è¿™ä¸ªå¯¹è±¡çš„response.json()æ–¹æ³•ä¸­ï¼Œä½†æ˜¯è¿™ä¸ªä¹Ÿæ˜¯ä¸€ä¸ªpromise</span>
            <span class="token comment" spellcheck="true">//å†æ¬¡ä½¿ç”¨awaitï¼Œè¿™æ ·å¾—åˆ°çš„å°±æ˜¯é‚£ä¸ªæ•°æ®å¯¹è±¡</span>
            <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token keyword">await</span> result<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
            PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'changeState'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> mainValue<span class="token punctuation">:</span> data<span class="token punctuation">.</span>items<span class="token punctuation">,</span> loading<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'changeState'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> loading<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> err<span class="token punctuation">:</span> error<span class="token punctuation">.</span>message <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
</code></pre>
<ul>
<li>fetchåŸç”Ÿå‡½æ•°ï¼ˆå­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼‰ä¸XmlHttpRequestå±äºåŒçº§</li>
<li>axiosï¼Œjqä¸­çš„$ajaxéƒ½æ˜¯åŸºäºxmlHttpRequestå°è£…çš„</li>
</ul>
<h3 id="3-å¯¹è±¡è§£æ„èµ‹å€¼"><a href="#3-å¯¹è±¡è§£æ„èµ‹å€¼" class="headerlink" title="3.å¯¹è±¡è§£æ„èµ‹å€¼"></a>3.å¯¹è±¡è§£æ„èµ‹å€¼</h3><pre><code>let obj = {a:{b:123}
cosnt {a} = obj  //æ™®é€šè§£æ„
cosnt {a:{b}} = obj // æ·±åº¦è§£æ„
cosnt {a:{b:value}} = obj  //æ·±åº¦è§£æ„åŠ é‡å‘½å
</code></pre>
<h3 id="4-react-router-domçš„åŸºæœ¬ä½¿ç”¨"><a href="#4-react-router-domçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="4.react-router-domçš„åŸºæœ¬ä½¿ç”¨"></a>4.react-router-domçš„åŸºæœ¬ä½¿ç”¨</h3><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Link<span class="token punctuation">,</span>Route<span class="token punctuation">,</span>Routes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-router-dom"</span>
<span class="token number">1</span><span class="token punctuation">.</span>æ˜ç¡®å¥½ç•Œé¢ä¸­çš„å¯¼èˆªåŒºã€å±•ç¤ºåŒº
<span class="token number">2</span><span class="token punctuation">.</span>å¯¼èˆªåŒºçš„aæ ‡ç­¾æ”¹ä¸ºLinkæ ‡ç­¾
<span class="token operator">&lt;</span>Link className<span class="token operator">=</span><span class="token string">"xxxx"</span> to<span class="token operator">=</span><span class="token string">'/about'</span><span class="token operator">></span>yyyy<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>
<span class="token number">3</span><span class="token punctuation">.</span>å±•ç¤ºåŒºå†™Routeså’ŒRouteæ ‡ç­¾è¿›è¡Œè·¯ç”±çš„åŒ¹é…
<span class="token comment" spellcheck="true">//æ–°ç‰ˆæœ¬å†™æ³•</span>
<span class="token operator">&lt;</span>Routes<span class="token operator">></span>
    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/about'</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>About <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/home'</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>Home <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Routes<span class="token operator">></span>

<span class="token comment" spellcheck="true">//app.js </span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>BrowserRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-router-dom"</span>
<span class="token number">4</span><span class="token punctuation">.</span>appçš„æœ€å¤–å±‚åŒ…è£¹ä¸€ä¸ª <span class="token operator">&lt;</span>BrowserRouter<span class="token operator">></span> æˆ–è€…<span class="token operator">&lt;</span>HashBrowser<span class="token operator">></span>
</code></pre>
<h3 id="5-è·¯ç”±ç»„ä»¶ä¸ä¸€èˆ¬ç»„ä»¶"><a href="#5-è·¯ç”±ç»„ä»¶ä¸ä¸€èˆ¬ç»„ä»¶" class="headerlink" title="5.è·¯ç”±ç»„ä»¶ä¸ä¸€èˆ¬ç»„ä»¶"></a>5.è·¯ç”±ç»„ä»¶ä¸ä¸€èˆ¬ç»„ä»¶</h3><p>â€‹      1.å†™æ³•ä¸åŒ</p>
<p>â€‹             ä¸€èˆ¬ç»„ä»¶ï¼š<demo></demo></p>
<p>â€‹            è·¯ç”±ç»„ä»¶ï¼š&lt;*Route* path=â€™/aboutâ€™ component={Demo} /&gt;</p>
<p>â€‹      2.å­˜æ”¾ä½ç½®ä¸åŒ</p>
<p>â€‹       ä¸€èˆ¬ç»„ä»¶ï¼šå­˜æ”¾åœ¨componentsæ–‡ä»¶å¤¹ä¸‹</p>
<p>â€‹            è·¯ç”±ç»„ä»¶ï¼šå­˜æ”¾åœ¨pagesæ–‡ä»¶å¤¹ä¸‹    </p>
<p>â€‹      3.æ¥æ”¶åˆ°çš„propsä¸åŒ</p>
<p>â€‹        ä¸€èˆ¬ç»„ä»¶ï¼šå†™æ ‡ç­¾æ—¶ä¼ å…¥äº†ä»€ä¹ˆï¼Œå°±æ¥å—åˆ°äº†ä»€ä¹ˆ</p>
<p>â€‹        è·¯ç”±ç»„ä»¶ï¼šæ¥æ”¶åˆ°ä¸‰ä¸ªå›ºå®šçš„å±æ€§</p>
<pre class=" language-javascript"><code class="language-javascript">history<span class="token punctuation">:</span>
        go<span class="token punctuation">:</span> Æ’ <span class="token function">go</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
        goBack<span class="token punctuation">:</span> Æ’ <span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        goForward<span class="token punctuation">:</span> Æ’ <span class="token function">goForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        push<span class="token punctuation">:</span> Æ’ <span class="token function">push</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> state<span class="token punctuation">)</span>
        replace<span class="token punctuation">:</span> Æ’ <span class="token function">replace</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> state<span class="token punctuation">)</span>
location<span class="token punctuation">:</span>
        pathname<span class="token punctuation">:</span> <span class="token string">"/about"</span>
        search<span class="token punctuation">:</span> <span class="token string">""</span>
        state<span class="token punctuation">:</span> undefined
match<span class="token punctuation">:</span>
        params<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        path<span class="token punctuation">:</span> <span class="token string">"/about"</span>
        url<span class="token punctuation">:</span> <span class="token string">"/about"</span>
</code></pre>
<h3 id="6-ç»„ä»¶å®ä¾‹ä¸­çš„childrenå±æ€§"><a href="#6-ç»„ä»¶å®ä¾‹ä¸­çš„childrenå±æ€§" class="headerlink" title="6.ç»„ä»¶å®ä¾‹ä¸­çš„childrenå±æ€§"></a>6.ç»„ä»¶å®ä¾‹ä¸­çš„childrenå±æ€§</h3><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>MyNavLink to<span class="token operator">=</span><span class="token string">'/about'</span> children<span class="token operator">=</span><span class="token string">"About"</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span>MyNavLink to<span class="token operator">=</span><span class="token string">'/home'</span> children<span class="token operator">=</span><span class="token string">"Home"</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token comment" spellcheck="true">//è¿™ä¸¤ç§æ–¹å¼æ˜¯ç­‰ä»·çš„   ç»„ä»¶æ ‡ç­¾ä¸­çš„å†…å®¹ï¼Œå…¶å®å°±æ˜¯ä½œä¸ºç»„ä»¶å®ä¾‹ä¸Šçš„childrenå±æ€§è¿›è¡Œä¼ é€’çš„çš„</span>
<span class="token comment" spellcheck="true">//åœ¨ç»„ä»¶å†…éƒ¨çš„propså¯ä»¥æ¥æ”¶åˆ°</span>
<span class="token operator">&lt;</span>MyNavLink to<span class="token operator">=</span><span class="token string">'/about'</span> <span class="token operator">></span>About<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span>
<span class="token operator">&lt;</span>MyNavLink to<span class="token operator">=</span><span class="token string">'/home'</span> <span class="token operator">></span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span>
</code></pre>
<h3 id="7-Switchçš„ä½¿ç”¨"><a href="#7-Switchçš„ä½¿ç”¨" class="headerlink" title="7.Switchçš„ä½¿ç”¨"></a>7.Switchçš„ä½¿ç”¨</h3><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//åƒè¿™ç§åŒä¸€ä¸ªè·¯å¾„åŒ¹é…äº†å¤šä¸ªç»„ä»¶çš„æ—¶å€™ï¼Œå¯¹åº”çš„ç»„ä»¶éƒ½ä¼šå±•ç¤º</span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/about'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/home'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>               
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/home'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Dmeo<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span> 
<span class="token comment" spellcheck="true">//import {Switch} from 'react-router-dom'</span>
<span class="token comment" spellcheck="true">//åŠ äº†Switchç»„ä»¶ä»¥åï¼Œå°±ä¼šæé«˜æ€§èƒ½ï¼Œåªè¦åŒ¹é…åˆ°å¯¹åº”çš„è·¯å¾„å°±ä¸ä¼šåœ¨åŒ¹é…å…¶å®ƒçš„äº†</span>
<span class="token operator">&lt;</span>Switch<span class="token operator">></span>
          <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/about'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/home'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>               
          <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/home'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Dmeo<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>     
<span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">></span>  
</code></pre>
<h3 id="8-è§£å†³æ ·å¼ä¸¢å¤±çš„æ–¹æ³•"><a href="#8-è§£å†³æ ·å¼ä¸¢å¤±çš„æ–¹æ³•" class="headerlink" title="8.è§£å†³æ ·å¼ä¸¢å¤±çš„æ–¹æ³•"></a>8.è§£å†³æ ·å¼ä¸¢å¤±çš„æ–¹æ³•</h3><ul>
<li>åœ¨ç”¨reactè„šæ‰‹æ¶è¿è¡Œé¡¹ç›®çš„æ—¶å€™ï¼Œæœ¬åœ°å¼€å¯çš„æœåŠ¡å™¨ä¼šæŠŠpublicä½œä¸ºæ ¹ç›®å½•</li>
<li>å¦‚æœè¯·æ±‚è·¯å¾„æ‹¿ä¸åˆ°èµ„æºæ—¶ï¼Œä¼šé»˜è®¤æŠŠindex.htmlé¡µé¢å±•ç¤ºå‡ºæ¥</li>
<li>åœ¨<browserrouter>é€ æˆè·¯å¾„ä¸¢å¤±çš„åŸå› </browserrouter></li>
</ul>
<pre class=" language-js"><code class="language-js">http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">3000</span><span class="token operator">/</span>home   
<span class="token comment" spellcheck="true">//åœ¨è¿™ç§è·¯å¾„ä¸‹ä¼šä»¥è¿™ç§è·¯å¾„å»æ­£ç¡®çš„è¯·æ±‚cssæ ·å¼è¡¨</span>
Request URL<span class="token punctuation">:</span> http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">3000</span><span class="token operator">/</span>css<span class="token operator">/</span>bootstrap<span class="token punctuation">.</span>css

http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">3000</span><span class="token operator">/</span>home<span class="token operator">/</span>aa<span class="token operator">/</span>bb
<span class="token comment" spellcheck="true">//åœ¨è¿™ç§è·¯å¾„ä¸‹ä¼šä»¥è¿™ç§è·¯å¾„å»é”™è¯¯çš„è¯·æ±‚cssæ ·å¼è¡¨ï¼ˆä¼šè¿”å›ç»™ä½ ä¸€ä¸ªindex.htmlï¼Œå› ä¸ºåŒ¹é…ä¸åˆ°ç»“æœï¼‰</span>
Request URL<span class="token punctuation">:</span> http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">3000</span><span class="token operator">/</span>home<span class="token operator">/</span>aa<span class="token operator">/</span>css<span class="token operator">/</span>bootstrap<span class="token punctuation">.</span>css
</code></pre>
<ul>
<li>ä¸‰ç§è§£å†³åŠæ³•</li>
</ul>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">"stylesheet"</span> href<span class="token operator">=</span><span class="token string">"./css/bootstrap.css"</span><span class="token operator">></span>
<span class="token comment" spellcheck="true">//ç¬¬ä¸€ç§  æŠŠç‚¹å»æ‰</span>
<span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">"stylesheet"</span> href<span class="token operator">=</span><span class="token string">"/css/bootstrap.css"</span><span class="token operator">></span>
<span class="token comment" spellcheck="true">//ç¬¬äºŒç§  %PUBLIC_URL% </span>
<span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">"stylesheet"</span> href<span class="token operator">=</span><span class="token string">" %PUBLIC_URL%/css/bootstrap.css"</span><span class="token operator">></span>
<span class="token comment" spellcheck="true">//ç¬¬ä¸‰ç§ é‡‡ç”¨&lt;HashRouter>æ¨¡å¼è€Œä¸æ˜¯&lt;BrowserRouter>æ¨¡å¼</span>
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">3000</span><span class="token operator">/</span>#<span class="token operator">/</span>home<span class="token operator">/</span>asasas   <span class="token comment" spellcheck="true">//ä¼šè‡ªåŠ¨çš„å¿½ç•¥æ‰#åé¢çš„è·¯å¾„ï¼Œä¸åŠ åœ¨è¯·æ±‚çš„urlåœ°å€ä¸­</span>
Request URL<span class="token punctuation">:</span> http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">3000</span><span class="token operator">/</span>css<span class="token operator">/</span>bootstrap<span class="token punctuation">.</span>css
</code></pre>
<h3 id="9-ä¸¥æ ¼åŒ¹é…å’Œæ¨¡ç³ŠåŒ¹é…"><a href="#9-ä¸¥æ ¼åŒ¹é…å’Œæ¨¡ç³ŠåŒ¹é…" class="headerlink" title="9.ä¸¥æ ¼åŒ¹é…å’Œæ¨¡ç³ŠåŒ¹é…"></a>9.ä¸¥æ ¼åŒ¹é…å’Œæ¨¡ç³ŠåŒ¹é…</h3><ul>
<li>react-router-domçš„é»˜è®¤åŒ¹é…æ¨¡å¼å°±æ˜¯æ¨¡ç³ŠåŒ¹é…</li>
</ul>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//é»˜è®¤çš„æ¨¡ç³ŠåŒ¹é…è¿™æ ·å­ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œèƒ½æ­£ç¡®å±•ç¤º</span>
<span class="token operator">&lt;</span>MyNavLink to<span class="token operator">=</span><span class="token string">'/home/a/b'</span> <span class="token operator">></span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span>
<span class="token operator">&lt;</span>Switch<span class="token operator">></span>
      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/home'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>                    
<span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">></span> 
</code></pre>
<ul>
<li>ç»™å±•ç¤ºåŒºåŸŸçš„è·¯ç”±ç»„ä»¶ä¸ŠåŠ  exactå±æ€§ ï¼ˆexact={ true} / exact)    //è¿™æ ·å°±åªèƒ½è¿›è¡Œä¸¥æ ¼åŒ¹é…ï¼Œèƒ½ä¸ç”¨å°±ä¸ç”¨</li>
</ul>
<h3 id="ğŸ‹-10-é‡å®šå‘è·¯ç”±"><a href="#ğŸ‹-10-é‡å®šå‘è·¯ç”±" class="headerlink" title="ğŸ‹ 10. é‡å®šå‘è·¯ç”±"></a>ğŸ‹ 10. é‡å®šå‘è·¯ç”±</h3><p>åœ¨æˆ‘ä»¬å†™å¥½äº†è¿™äº›ä¹‹åï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œæˆ‘ä»¬éœ€è¦ç‚¹å‡»ä»»æ„ä¸€ä¸ªæŒ‰é’®ï¼Œæ‰ä¼šå»åŒ¹é…ä¸€ä¸ªç»„ä»¶ï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæˆ‘ä»¬æƒ³è¦é¡µé¢ä¸€åŠ è½½ä¸Šæ¥ï¼Œé»˜è®¤çš„å°±èƒ½åŒ¹é…åˆ°ä¸€ä¸ªç»„ä»¶ã€‚</p>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦æ—¶å€™ Redirecrt è¿›è¡Œé»˜è®¤åŒ¹é…äº†ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">"/home"</span> <span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>å½“æˆ‘ä»¬åŠ ä¸Šè¿™æ¡è¯­å¥æ—¶ï¼Œé¡µé¢æ‰¾ä¸åˆ°æŒ‡å®šè·¯å¾„æ—¶ï¼Œå°±ä¼šé‡å®šå‘åˆ° <code>/home</code> é¡µé¢ä¸‹å› æ­¤å½“æˆ‘ä»¬è¯·æ±‚3000ç«¯å£æ—¶ï¼Œå°±ä¼šé‡å®šå‘åˆ° <code>/home</code> è¿™æ ·å°±èƒ½å¤Ÿå®ç°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœäº†</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210904013342960.png" alt="image-20210904013342960"></p>
<h3 id="ğŸ“11-åµŒå¥—è·¯ç”±"><a href="#ğŸ“11-åµŒå¥—è·¯ç”±" class="headerlink" title="ğŸ“11. åµŒå¥—è·¯ç”±"></a>ğŸ“11. åµŒå¥—è·¯ç”±</h3><p>åµŒå¥—è·¯ç”±ä¹Ÿå°±æ˜¯æˆ‘ä»¬å‰é¢æœ‰æåŠçš„äºŒçº§è·¯ç”±ï¼Œä½†æ˜¯åµŒå¥—è·¯ç”±åŒ…æ‹¬äº†äºŒçº§ã€ä¸‰çº§â€¦è¿˜æœ‰å¾ˆå¤šçº§è·¯ç”±ï¼Œå½“æˆ‘ä»¬éœ€è¦åœ¨ä¸€ä¸ªè·¯ç”±ç»„ä»¶ä¸­æ·»åŠ ä¸¤ä¸ªç»„ä»¶ï¼Œä¸€ä¸ªæ˜¯å¤´éƒ¨ï¼Œä¸€ä¸ªæ˜¯å†…å®¹åŒº</p>
<p>æˆ‘ä»¬å°†æˆ‘ä»¬çš„åµŒå¥—å†…å®¹å†™åœ¨ç›¸åº”çš„ç»„ä»¶é‡Œé¢ï¼Œè¿™ä¸ªæ˜¯åœ¨ Home ç»„ä»¶çš„ return å†…å®¹</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>h2<span class="token operator">></span>Homeç»„ä»¶å†…å®¹<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>ul className<span class="token operator">=</span><span class="token string">"nav nav-tabs"</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>li<span class="token operator">></span>
                <span class="token operator">&lt;</span>MyNavLink className<span class="token operator">=</span><span class="token string">"list-group-item"</span> to<span class="token operator">=</span><span class="token string">"/home/news"</span><span class="token operator">></span>News<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
            <span class="token operator">&lt;</span>li<span class="token operator">></span>
                <span class="token operator">&lt;</span>MyNavLink className<span class="token operator">=</span><span class="token string">"list-group-item "</span> to<span class="token operator">=</span><span class="token string">"/home/message"</span><span class="token operator">></span>Message<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>
        <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* æ³¨å†Œè·¯ç”± */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>Switch<span class="token operator">></span>
            <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home/news"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>News<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home/message"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Message<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
</code></pre>
<p>åœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åµŒå¥—è·¯ç”±çš„æ–¹å¼ï¼Œæ‰èƒ½å®ŒæˆåŒ¹é…</p>
<p>é¦–å…ˆæˆ‘ä»¬å¾— React ä¸­è·¯ç”±å¾—æ³¨å†Œæ˜¯æœ‰é¡ºåºå¾—ï¼Œæˆ‘ä»¬åœ¨åŒ¹é…å¾—æ—¶å€™ï¼Œå› ä¸º Home ç»„ä»¶æ˜¯å…ˆæ³¨å†Œå¾—ï¼Œå› æ­¤åœ¨åŒ¹é…çš„æ—¶å€™å…ˆå»æ‰¾ home è·¯ç”±ï¼Œç”±äºæ˜¯æ¨¡ç³ŠåŒ¹é…ï¼Œä¼šæˆåŠŸçš„åŒ¹é…</p>
<p>åœ¨ Home ç»„ä»¶é‡Œé¢å»åŒ¹é…ç›¸åº”çš„è·¯ç”±ï¼Œä»è€Œæ‰¾åˆ° /home/news è¿›è¡ŒåŒ¹é…ï¼Œå› æ­¤æ‰¾åˆ° News ç»„ä»¶ï¼Œè¿›è¡ŒåŒ¹é…æ¸²æŸ“</p>
<blockquote>
<p>å¦‚æœå¼€å¯ç²¾ç¡®åŒ¹é…çš„è¯ï¼Œç¬¬ä¸€æ­¥çš„ <code>/home/news</code> åŒ¹é… <code>/home</code> å°±ä¼šå¡ä½ä¸åŠ¨ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¸ä¼šæ˜¾ç¤ºæœ‰ç”¨çš„ä¸œè¥¿äº†ï¼</p>
</blockquote>
<h3 id="ğŸŸ-12-ä¼ é€’-params-å‚æ•°"><a href="#ğŸŸ-12-ä¼ é€’-params-å‚æ•°" class="headerlink" title="ğŸŸ 12. ä¼ é€’ params å‚æ•°"></a>ğŸŸ 12. ä¼ é€’ params å‚æ•°</h3><p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-router-params.gif" alt="react-router-params"></p>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å®ç°çš„æ•ˆæœæ˜¯ï¼Œç‚¹å‡»æ¶ˆæ¯åˆ—è¡¨ï¼Œå±•ç¤ºå‡ºæ¶ˆæ¯çš„è¯¦ç»†å†…å®¹</p>
<p>è¿™ä¸ªæ¡ˆä¾‹å®ç°çš„æ–¹æ³•æœ‰ä¸‰ç§ï¼Œç¬¬ä¸€ç§å°±æ˜¯ä¼ é€’ params å‚æ•°ï¼Œç”±äºæˆ‘ä»¬æ‰€æ˜¾ç¤ºçš„æ•°æ®éƒ½æ˜¯ä»æ•°æ®é›†ä¸­å–å‡ºæ¥çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æœ‰æ•°æ®çš„ä¼ è¾“ç»™ Detail ç»„ä»¶</p>
<p>æˆ‘ä»¬é¦–å…ˆéœ€è¦å°†è¯¦ç»†å†…å®¹çš„æ•°æ®åˆ—è¡¨ï¼Œä¿å­˜åœ¨ DetailData ä¸­ï¼Œå°†æ¶ˆæ¯åˆ—è¡¨ä¿å­˜åœ¨ Message çš„ state ä¸­ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†æ•°æ®æ‹¼æ¥åœ¨è·¯ç”±åœ°å€æœ«å°¾æ¥å®ç°æ•°æ®çš„ä¼ é€’</p>
<pre class=" language-js"><code class="language-js"> <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`/home/message/detail/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>msgObj<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>msgObj<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>msgObj<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>
</code></pre>
<p>å¦‚ä¸Šï¼Œæˆ‘ä»¬å°†æ¶ˆæ¯åˆ—è¡¨çš„ id å’Œ title å†™åœ¨äº†è·¯ç”±åœ°å€åé¢</p>
<blockquote>
<p>è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼šéœ€è¦é‡‡ç”¨æ¨¡æ¿å­—ç¬¦ä¸²ä»¥åŠ <code>$</code> ç¬¦çš„æ–¹å¼æ¥è¿›è¡Œæ•°æ®çš„è·å–</p>
</blockquote>
<p>åœ¨æ³¨å†Œè·¯ç”±æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>:æ•°æ®å</code> æ¥æ¥æ”¶æ•°æ®</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home/message/detail/:id/:title"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Detail<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>å¦‚ä¸Šï¼Œä½¿ç”¨äº† <code>:id/:title</code> æˆåŠŸçš„æ¥æ”¶äº†ç”± Link ä¼ é€’è¿‡æ¥çš„ id å’Œ title æ•°æ®</p>
<p>è¿™æ ·æˆ‘ä»¬æ—¢æˆåŠŸçš„å®ç°äº†è·¯ç”±çš„è·³è½¬ï¼Œåˆå°†éœ€è¦è·å–çš„æ•°æ®ä¼ é€’ç»™äº† Detail ç»„ä»¶</p>
<p>æˆ‘ä»¬åœ¨ Detail ç»„ä»¶ä¸­æ‰“å° <code>this.props</code> æ¥æŸ¥çœ‹å½“å‰æ¥æ”¶çš„æ•°æ®æƒ…å†µ</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210906153042353.png" alt="image-20210906153042353"></p>
<p>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬ä¼ é€’çš„æ•°æ®è¢«æ¥æ”¶åˆ°äº†å¯¹è±¡çš„ match å±æ€§ä¸‹çš„ params ä¸­</p>
<p>å› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ Detail ç»„ä»¶ä¸­è·å–åˆ°åˆ Message ç»„ä»¶ä¸­ä¼ é€’æ¥çš„ params æ•°æ®</p>
<p>å¹¶é€šè¿‡ params æ•°æ®ä¸­çš„ <code>id</code> å€¼ï¼Œåœ¨è¯¦ç»†å†…å®¹çš„æ•°æ®é›†ä¸­æŸ¥æ‰¾å‡ºæŒ‡å®š <code>id</code> çš„è¯¦ç»†å†…å®¹</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> title <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>match<span class="token punctuation">.</span>params
<span class="token keyword">const</span> findResult <span class="token operator">=</span> DetailData<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>detailObj<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> detailObj<span class="token punctuation">.</span>id <span class="token operator">===</span> id
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>æœ€åæ¸²æŸ“æ•°æ®å³å¯</p>
<h3 id="ğŸ€-13-ä¼ é€’-search-å‚æ•°"><a href="#ğŸ€-13-ä¼ é€’-search-å‚æ•°" class="headerlink" title="ğŸ€ 13. ä¼ é€’ search å‚æ•°"></a>ğŸ€ 13. ä¼ é€’ search å‚æ•°</h3><p>æˆ‘ä»¬è¿˜å¯ä»¥é‡‡ç”¨ä¼ é€’ search å‚æ•°çš„æ–¹æ³•æ¥å®ç°</p>
<p>é¦–å…ˆæˆ‘ä»¬å…ˆç¡®å®šæ•°æ®ä¼ è¾“çš„æ–¹å¼</p>
<p>æˆ‘ä»¬å…ˆåœ¨ Link ä¸­é‡‡ç”¨ <code>?</code> ç¬¦å·çš„æ–¹å¼æ¥è¡¨ç¤ºåé¢çš„ä¸ºå¯ç”¨æ•°æ®</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`/home/message/detail/?id=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>msgObj<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;title=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>msgObj<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>msgObj<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>
</code></pre>
<p>é‡‡ç”¨ <code>search</code> ä¼ é€’çš„æ–¹å¼ï¼Œæ— éœ€åœ¨ Route ä¸­å†æ¬¡å£°æ˜ï¼Œå¯ä»¥åœ¨ Detail ç»„ä»¶ä¸­ç›´æ¥è·å–åˆ°</p>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210906155217647.png" alt="image-20210906155217647"></p>
<p>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬çš„æ•°æ®ä¿å­˜åœ¨äº† <code>location</code> å¯¹è±¡ä¸‹çš„ <code>search</code> ä¸­ï¼Œæ˜¯ä¸€ç§å­—ç¬¦ä¸²çš„å½¢å¼ä¿å­˜çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¼•ç”¨ä¸€ä¸ªåº“æ¥è¿›è¡Œè½¬åŒ– <code>querystring</code></p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> qs <span class="token keyword">from</span> <span class="token string">'querystring'</span>
</code></pre>
<p>è¿™ä¸ªåº“æ˜¯ React ä¸­è‡ªå¸¦æœ‰çš„ï¼Œå®ƒæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯ <code>parse</code> ä¸€ä¸ªæ˜¯ <code>stringify</code> </p>
<p>æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ <code>parse</code> æ–¹æ³•ï¼Œå°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºé”®å€¼å¯¹å½¢å¼çš„å¯¹è±¡</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> search <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location
<span class="token keyword">const</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> title <span class="token punctuation">}</span> <span class="token operator">=</span> qs<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>search<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>è¿™æ ·æˆ‘ä»¬å°±èƒ½æˆåŠŸçš„è·å–æ•°æ®ï¼Œå¹¶è¿›è¡Œæ¸²æŸ“</p>
<blockquote>
<p>tipsï¼šæ— éœ€å£°æ˜æ¥æ”¶</p>
</blockquote>
<h3 id="ğŸŒ·-14-ä¼ é€’-state-å‚æ•°"><a href="#ğŸŒ·-14-ä¼ é€’-state-å‚æ•°" class="headerlink" title="ğŸŒ· 14. ä¼ é€’ state å‚æ•°"></a>ğŸŒ· 14. ä¼ é€’ state å‚æ•°</h3><p>é‡‡ç”¨ä¼ é€’ state å‚æ•°çš„æ–¹æ³•ï¼Œæ˜¯æˆ‘è§‰å¾—æœ€å®Œç¾çš„ä¸€ç§æ–¹æ³•ï¼Œå› ä¸ºå®ƒä¸ä¼šå°†æ•°æ®æºå¸¦åˆ°åœ°å€æ ä¸Šï¼Œé‡‡ç”¨å†…éƒ¨çš„çŠ¶æ€æ¥ç»´æŠ¤</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> pathname<span class="token punctuation">:</span> <span class="token string">'/home/message/detail'</span><span class="token punctuation">,</span> state<span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> msgObj<span class="token punctuation">.</span>id<span class="token punctuation">,</span> title<span class="token punctuation">:</span> msgObj<span class="token punctuation">.</span>title <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>msgObj<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>
</code></pre>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨ Link ä¸­æ³¨å†Œè·³è½¬æ—¶ï¼Œä¼ é€’ä¸€ä¸ªè·¯ç”±å¯¹è±¡ï¼ŒåŒ…æ‹¬ä¸€ä¸ª è·³è½¬åœ°å€åï¼Œä¸€ä¸ª state æ•°æ®ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ Detail ç»„ä»¶ä¸­è·å–åˆ°è¿™ä¸ªä¼ é€’çš„ state æ•°æ®</p>
<blockquote>
<p>æ³¨æ„ï¼šé‡‡ç”¨è¿™ç§æ–¹å¼ä¼ é€’ï¼Œæ— éœ€å£°æ˜æ¥æ”¶</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥åœ¨ Detail ç»„ä»¶ä¸­çš„ location å¯¹è±¡ä¸‹çš„ state ä¸­å–å‡ºæˆ‘ä»¬æ‰€ä¼ é€’çš„æ•°æ®</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> title <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>state
</code></pre>
<p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210906160940033.png" alt="image-20210906160940033"></p>
<p>ç›´æ¥ä½¿ç”¨å³å¯~</p>
<p>è§£å†³æ¸…é™¤ç¼“å­˜é€ æˆæŠ¥é”™çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è·å–ä¸åˆ°æ•°æ®çš„æ—¶å€™ç”¨ç©ºå¯¹è±¡æ¥æ›¿ä»£ï¼Œä¾‹å¦‚ï¼Œ</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> title <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>state <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre>
<p>å½“è·å–ä¸åˆ° <code>state</code> æ—¶ï¼Œåˆ™ç”¨ç©ºå¯¹è±¡ä»£æ›¿</p>
<blockquote>
<p>è¿™é‡Œçš„ state å’ŒçŠ¶æ€é‡Œçš„ state æœ‰æ‰€ä¸åŒ</p>
</blockquote>
<h3 id="15-withRouter"><a href="#15-withRouter" class="headerlink" title="15.withRouter"></a>15.withRouter</h3><ul>
<li><p>å®ƒä¸æ˜¯ä¸€ä¸ªç»„ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°    </p>
</li>
<li><p>æ˜¯ç”¨æ¥ç»™ä¸€èˆ¬ç»„ä»¶ä½¿ç”¨è·¯ç”±ç»„ä»¶çš„apiçš„ã€</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//å¯¼å…¥</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> withRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//ç±»å¼ç»„ä»¶</span>
<span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//å¯¼å‡º</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>Header<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//è¿™æ ·åœ¨è¿™ä¸ªç»„ä»¶å†…éƒ¨å°±æœ‰äº†è·¯ç”±ç»„ä»¶çš„ç›¸å…³apiäº†ï¼Œä¸å½±å“è‡ªå·±propsç»„ä»¶å®ä¾‹å‚æ•°çš„æ¥æ”¶</span>
</code></pre>
</li>
</ul>
<h3 id="16-BrowserRouter-å’Œ-HashRouter-çš„åŒºåˆ«"><a href="#16-BrowserRouter-å’Œ-HashRouter-çš„åŒºåˆ«" class="headerlink" title="16.BrowserRouter å’Œ HashRouter çš„åŒºåˆ«"></a>16.BrowserRouter å’Œ HashRouter çš„åŒºåˆ«</h3><ul>
<li><p><strong>åº•å±‚çš„å®ç°åŸç†ä¸ä¸€æ ·</strong></p>
<pre class=" language-js"><code class="language-js">å¯¹äº BrowserRouter æ¥è¯´å®ƒä½¿ç”¨çš„æ˜¯ React ä¸ºå®ƒå°è£…çš„ history API ï¼Œè¿™é‡Œçš„ history å’Œæµè§ˆå™¨ä¸­çš„ history æœ‰æ‰€ä¸åŒå™¢ï¼é€šè¿‡æ“ä½œè¿™äº› API æ¥å®ç°è·¯ç”±çš„ä¿å­˜ç­‰æ“ä½œï¼Œä½†æ˜¯è¿™äº› API æ˜¯ H5 ä¸­æå‡ºçš„ï¼Œå› æ­¤ä¸å…¼å®¹ IE9 ä»¥ä¸‹ç‰ˆæœ¬ã€‚

å¯¹äº HashRouter è€Œè¨€ï¼Œå®ƒå®ç°çš„åŸç†æ˜¯é€šè¿‡ URL çš„å“ˆå¸Œå€¼ï¼Œä½†æ˜¯è¿™å¥è¯æˆ‘ä¸æ˜¯å¾ˆç†è§£ï¼Œç”¨ä¸€ä¸ªç®€å•çš„è§£é‡Šå°±æ˜¯

æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºæ˜¯é”šç‚¹è·³è½¬ï¼Œå› ä¸ºé”šç‚¹è·³è½¬ä¼šä¿å­˜å†å²è®°å½•ï¼Œä»è€Œè®© HashRouter æœ‰äº†ç›¸å…³çš„å‰è¿›åé€€æ“ä½œï¼ŒHashRouter ä¸ä¼šå°† <span class="token template-string"><span class="token string">`#`</span></span> ç¬¦å·åé¢çš„å†…å®¹è¯·æ±‚ã€‚å…¼å®¹æ€§æ›´å¥½ï¼
</code></pre>
</li>
<li><p><strong>åœ°å€æ çš„è¡¨ç°å½¢å¼ä¸ä¸€æ ·</strong></p>
<p>â€‹    HashRouter çš„è·¯å¾„ä¸­åŒ…å« <code>#</code> ï¼Œä¾‹å¦‚ <code>localhost:3000/#/demo/test</code></p>
</li>
<li><p><strong>åˆ·æ–°åstateå‚æ•°æ”¹å˜</strong></p>
</li>
</ul>
<p>â€‹       åœ¨BrowserRouter ä¸­ï¼Œstate ä¿å­˜åœ¨history å¯¹è±¡ä¸­ï¼Œåˆ·æ–°ä¸ä¼šä¸¢å¤±</p>
<p>â€‹       HashRouter åˆ™åˆ·æ–°ä¼šä¸¢å¤± state</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        æ–‡ç« ä½œè€…:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">æ´ªå¤§ä¿Š</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        æ–‡ç« é“¾æ¥:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://hdajun.github.io/2022/01/24/react-day-five-tidying-up/">https://hdajun.github.io/2022/01/24/react-day-five-tidying-up/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        ç‰ˆæƒå£°æ˜:
                    </i>
                </span>
                <span class="reprint-info">
                    æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ¥å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº
                    <a href="/about" target="_blank">æ´ªå¤§ä¿Š</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>å¤åˆ¶æˆåŠŸï¼Œè¯·éµå¾ªæœ¬æ–‡çš„è½¬è½½è§„åˆ™</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">æŸ¥çœ‹</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/React/">
                                    <span class="chip bg-color">React</span>
                                </a>
                            
                                <a href="/tags/learning/">
                                    <span class="chip bg-color">learning</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="qq,qzone,wechat,weibo" data-wechat-qrcode-helper="<p>å¾®ä¿¡æ‰«ä¸€æ‰«å³å¯åˆ†äº«ï¼</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    
        <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>è¯„è®º</span>
    </div>
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: '06628549678e23fbbda1',
        clientSecret: '3b4547ac151512ff09470b92b1714fd0dbd316dc',
        repo: 'Hdajun.github.io',
        owner: 'Hdajun',
        admin: "Hdajun",
        id: '2022-01-24T22-39-52',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>

    

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;ä¸Šä¸€ç¯‡</div>
            <div class="card">
                <a href="/2022/01/24/react-day-four-tidying-up/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/2.png" class="responsive-img" alt="Hello React day4">
                        
                        <span class="card-title">Hello React day4</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-01-24
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/react/" class="post-category">
                                    react
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/React/">
                        <span class="chip bg-color">React</span>
                    </a>
                    
                    <a href="/tags/learning/">
                        <span class="chip bg-color">learning</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                ä¸‹ä¸€ç¯‡&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/01/24/hello-world/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/17.png" class="responsive-img" alt="Hello World">
                        
                        <span class="card-title">Hello World</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-01-24
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/react/" class="post-category">
                                    react
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/React/">
                        <span class="chip bg-color">React</span>
                    </a>
                    
                    <a href="/tags/learning/">
                        <span class="chip bg-color">learning</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- ä»£ç å—åŠŸèƒ½ä¾èµ– -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- ä»£ç è¯­è¨€ -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- ä»£ç å—å¤åˆ¶ -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- ä»£ç å—æ”¶ç¼© -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;ç›®å½•</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC æ‚¬æµ®æŒ‰é’®. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* ä¿®å¤æ–‡ç« å¡ç‰‡ div çš„å®½åº¦. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // åˆ‡æ¢TOCç›®å½•å±•å¼€æ”¶ç¼©çš„ç›¸å…³æ“ä½œ.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022-2023</span>
            
            <a href="/about" target="_blank">æ´ªå¤§ä¿Š</a>
            <!-- |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a> -->
            <br>
            
                &nbsp;<i class="fas fa-chart-area"></i>&nbsp;ç«™ç‚¹æ€»å­—æ•°:&nbsp;<span
                        class="white-color">8.5k</span>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;æ€»è®¿é—®é‡:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;æ€»è®¿é—®äººæ•°:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- è¿è¡Œå¤©æ•°æé†’. -->
            
                <span id="sitetime"> Loading ...</span>
                <script>
                    var calcSiteTime = function () {
                        var seconds = 1000;
                        var minutes = seconds * 60;
                        var hours = minutes * 60;
                        var days = hours * 24;
                        var years = days * 365;
                        var today = new Date();
                        var startYear = "2022";
                        var startMonth = "1";
                        var startDate = "29";
                        var startHour = "0";
                        var startMinute = "0";
                        var startSecond = "0";
                        var todayYear = today.getFullYear();
                        var todayMonth = today.getMonth() + 1;
                        var todayDate = today.getDate();
                        var todayHour = today.getHours();
                        var todayMinute = today.getMinutes();
                        var todaySecond = today.getSeconds();
                        var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                        var diff = t2 - t1;
                        var diffYears = Math.floor(diff / years);
                        var diffDays = Math.floor((diff / days) - diffYears * 365);

                        // åŒºåˆ†æ˜¯å¦æœ‰å¹´ä»½.
                        var language = 'zh-CN';
                        if (startYear === String(todayYear)) {
                            document.getElementById("year").innerHTML = todayYear;
                            var daysTip = 'This site has been running for ' + diffDays + ' days';
                            if (language === 'zh-CN') {
                                daysTip = 'æœ¬ç«™å·²è¿è¡Œ ' + diffDays + ' å¤©';
                            } else if (language === 'zh-HK') {
                                daysTip = 'æœ¬ç«™å·²é‹è¡Œ ' + diffDays + ' å¤©';
                            }
                            document.getElementById("sitetime").innerHTML = daysTip;
                        } else {
                            document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                            var yearsAndDaysTip = 'This site has been running for ' + diffYears + ' years and '
                                + diffDays + ' days';
                            if (language === 'zh-CN') {
                                yearsAndDaysTip = 'æœ¬ç«™å·²è¿è¡Œ ' + diffYears + ' å¹´ ' + diffDays + ' å¤©';
                            } else if (language === 'zh-HK') {
                                yearsAndDaysTip = 'æœ¬ç«™å·²é‹è¡Œ ' + diffYears + ' å¹´ ' + diffDays + ' å¤©';
                            }
                            document.getElementById("sitetime").innerHTML = yearsAndDaysTip;
                        }
                    }

                    calcSiteTime();
                </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">


    <a href="mailto:1624058545@qq.com" class="tooltipped" target="_blank" data-tooltip="é‚®ä»¶è”ç³»æˆ‘: 1624058545@qq.com" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1624058545" class="tooltipped" target="_blank" data-tooltip="QQè”ç³»æˆ‘: 1624058545" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>









    <a href="https://weixin.qq.com/" class="tooltipped" target="_blank" data-tooltip="å¾®ä¿¡è”ç³»æˆ‘ï¼šlyym-aini-bb" data-position="top" data-delay="50">
        <i class="fab fa-weixin"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- æœç´¢é®ç½©æ¡† -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;æœç´¢</span>
            <input type="search" id="searchInput" name="s" placeholder="è¯·è¾“å…¥æœç´¢çš„å…³é”®å­—"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    

    <!-- é›ªèŠ±ç‰¹æ•ˆ -->
     
        <script type="text/javascript">
            // åªåœ¨æ¡Œé¢ç‰ˆç½‘é¡µå¯ç”¨ç‰¹æ•ˆ
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/libs/others/snow.js"><\/script>');
            }
        </script>
    

    <!-- é¼ æ ‡æ˜Ÿæ˜Ÿç‰¹æ•ˆ -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--è…¾è®¯å…”å°å·¢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    
    <!-- å¼•å…¥é¼ æ ‡ç§»åŠ¨æ•ˆæœçš„jsæ–‡ä»¶ -->
    <!-- <script src="/js/cursor.js"></script> -->

    <!-- ç‚¹å‡»çƒŸèŠ±çˆ†ç‚¸æ•ˆæœ -->
    <!-- <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
    <script type="text/javascript" src="/js/fireworks.js"></script> -->


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/miku.model.json"},"display":{"position":"right","width":165,"height":335},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.8},"log":false});</script></body>

</html>
